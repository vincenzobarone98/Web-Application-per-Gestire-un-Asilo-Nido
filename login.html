<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Login Gestionale Asilo Nido" />
    <meta name="keywords" content="Asilo Nido, Bambini, login, docenti" />
    <meta name="author" content="Team 2: Luca Tassiello - Vincenzo Barone - Francesco Esposito - Giuseppe Giordano - Roberto Bucco - Mattia Bascelli" />
    <meta name="robots" content="index, follow" />
    <meta name="referrer" content="no-referrer" />
    <link rel="icon" type="image/x-icon" href="img/logoasilo.ico">
    <title>Login Page - TEAM2</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <style>
        body {
            background-color: #6cc2c0;
            /*height: 100%;*/
            font-family: "Poppins", sans-serif;
        }

                .navbar {
                    background-color: #6cc2c0;
                    /*            height: 10vh;
        */
                }

                    .navbar li:hover {
                        background-color: rgba(134, 202, 195, 0.9);
                        border-radius: 20px;
                    }

                .pt-2 {
                    background-color: white;
                    border-radius: 15px 0px 15px 0px;
                    /*            height: 80vh;
        */
                }

                .footer {
                    text-align: center;
                }

                    /*.footer p {
                        margin-top: 3%;
                    }*/

                .logo {
                    width: 30px;
                    height: 24px;
                    margin-bottom: 4px;
                }

                @media screen and (max-width: 760px) {


                   /* .footer {
                        height: 4vh;
                    }*/
                }
    </style>
</head>
<body>
    <!--Navbar-->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <div class="container">
                <a class="navbar-brand" href="index.html">
                    <img src="img/logoasilo.png" alt="Gestionale Asilo Nido" class="logo"> Gestionale Asilo Nido
                </a>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle Navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse justify-content-end navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Docente
                        </a>
                        <!--                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#">Comunicazione Genitori</a>
                    <a class="dropdown-item" href="#">Gestione Presenze</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">Gestione Armadietto</a>
                    <a class="dropdown-item" href="#">Gestione Menù Settimana</a>
                </div>-->
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contattiNotLogged.html">Developers</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">LOGIN</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="pt-2 text-center">
        <!--        <div class="row">
            <div class="col-6">-->


        <div id="login_container" class="col-md-4 mx-auto">
            <div class="titolo mt-5 mb-5">
                <h2>Login</h2>
                <hr />
            </div>

            <form class="form-group" id="loginForm">
                <div class="form-floating mb-3 ">

                    <input type="text" id="username" class="form-control border-success" placeholder="Username:">
                    <label for="username">Username:</label>
                </div>

                <div class="form-floating mb-3 ">

                    <input type="password" class="form-control border-success" id="password" placeholder="Password:">
                    <label for="password">Password:</label>
                </div>

                <button class="btn btn-outline-success mb-5" type="submit">Accedi</button>
            </form>



        </div>

        <!--                        <label for="username">Username:</label>
        -->
        <!--<input type="text" id="username" placeholder="Username:" required><br><br>-->
        <!--                        <label for="password">Password:</label>
        -->
        <!--<input type="password" id="password" placeholder="Password:" required><br><br>
        <button class="btn btn-outline-success" type="submit">Login</button>-->
        <!--            </div>-->
        <!--          <div class="col-6">
                <div id="container-fluid">
                    <div class="titolo mt-5 mb-5">
                        <h2>Hai Dimenticato la password?</h2>
                    </div>
                    <form class="form-group" id="forgot">
                        <label for="email">Inserisci la tua mail per resettare la password</label>
                        <input type="email" id="email" required />
                        <button type="button">Resetta Password</button>
                    </form>
                </div>
            </div>
        </div>-->
    </main>

    <footer>
        <div class="footer mt-4">
            <p>&copy; 2024 TEAM2 - Tutti i diritti riservati.</p>
        </div>
    </footer>

    <script>
        // Array di utenti registrati
        var users = [
            { username: 'admin', password: 'admin123' },
            { username: 'user', password: 'user123' },
            { username: 'luca', password: 'tassiello' },
            { username: 'vincenzo', password: 'barone' },
            { username: 'francesco', password: 'esposito' },
            { username: 'roberto', password: 'bucco' },
            { username: 'mattia', password: 'bascelli' },
            { username: 'giuseppe', password: 'giordano' }
        ];

        // Funzione per il login
        function login(username, password) {
            // Verifica se le credenziali sono corrette
            for (var i = 0; i < users.length; i++) {
                if (users[i].username === username && users[i].password === password) {
                    return true; // Login riuscito
                }
            }
            // finestra di dialogo credenziali errate
            var retryEmail = prompt("Credenziali Errate!\nInserisci la tua email inviare una email di reset oppure\nclicca su annulla per riprovare!");
            if (retryEmail !== null && retryEmail.trim() !== "") {


                alert('Email inviata per il reset della password a: ' + retryEmail);
                document.getElementById('username').value = "";
                document.getElementById('password').value = "";
            } else {
                // Resettare i campi del form
                document.getElementById('username').value = "";
                document.getElementById('password').value = "";
            }
            return false; // Login fallito
        }

        // Gestore dell'invio del form
        document.getElementById('loginForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Evita il comportamento predefinito del form
            // Recupera i valori inseriti dall'utente
            var username = document.getElementById('username').value;
            var password = document.getElementById('password').value;
            // Effettua il login
            if (login(username, password)) {
                alert('Login riuscito!\nBenvenuto, ' + username);
                //redirect ad una pagina dopo il login
                window.location.href = "homeLogged.html";
            }
        });






        //Event Listener per obbligare all'accesso
        document.addEventListener("DOMContentLoaded", function () {

            var navLinks = document.querySelectorAll(".navbar-nav .nav-link");

            // Itera su ciascun elemento del menu
            navLinks.forEach(function (link) {

                link.addEventListener("click", function (event) {

                    if (link.textContent.trim() !== "Home" && link.textContent.trim() !== "LOGIN" && link.textContent.trim() !== "Developers") {

                        event.preventDefault();

                        alert("Devi prima effettuare l'accesso.");
                    }
                });
            });
        });


    </script>
</body>
</html>
